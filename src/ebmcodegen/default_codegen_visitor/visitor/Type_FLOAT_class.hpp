/*DO NOT EDIT BELOW SECTION MANUALLY*/
/*license*/
// Template generated by ebmcodegen at https://github.com/on-keyday/rebrgen
/*
  Name: Type_FLOAT_class
  Available Variables:
    ctx: Context_Type_FLOAT
      visitor: MergedVisitor&
        program_name: static constexpr const char*
        flags: Flags&
        output: Output&
        wm: ebmcodegen::WriterManager<CodeWriter>
        module_: ebmgen::MappingTable
      item_id: ebm::TypeRef
      kind: const ebm::TypeKind&
      size: const ebm::Varint&
*/
/*DO NOT EDIT ABOVE SECTION MANUALLY*/

#include "../codegen.hpp"
DEFINE_VISITOR(Type_FLOAT) {
    using namespace CODEGEN_NAMESPACE;
    /*here to write the hook*/
    auto bit_size = ctx.size.value();
    if (ctx.config().make_float_type) {
        return ctx.config().make_float_type(bit_size);
    }
    if (!ctx.config().byte_aligned_float) {
        return CODE(ctx.config().float_prefix, std::to_string(bit_size), ctx.config().float_suffix);
    }
    if (ctx.config().support_small_size_float) {
        if (bit_size <= 8) {
            return CODE(ctx.config().float_prefix, "8", ctx.config().float_suffix);
        }
        if (bit_size <= 16) {
            return CODE(ctx.config().float_prefix, "16", ctx.config().float_suffix);
        }
    }
    if (bit_size <= 32) {
        return CODE(ctx.config().float_prefix, "32", ctx.config().float_suffix);
    }
    if (bit_size <= 64) {
        return CODE(ctx.config().float_prefix, "64", ctx.config().float_suffix);
    }
    if (ctx.config().support_large_size_float) {
        if (bit_size <= 128) {
            return CODE(ctx.config().float_prefix, "128", ctx.config().float_suffix);
        }
    }
    return unexpect_error("unsupported float size: {}", bit_size);
}
