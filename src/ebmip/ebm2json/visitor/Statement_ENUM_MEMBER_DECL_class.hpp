/*DO NOT EDIT BELOW SECTION MANUALLY*/
/*license*/
// Template generated by ebmcodegen at https://github.com/on-keyday/rebrgen
/*
  Name: Statement_ENUM_MEMBER_DECL_class
  Available Variables:
    ctx: Context_Statement_ENUM_MEMBER_DECL
      visitor: MergedVisitor&
        program_name: static constexpr const char*
        flags: Flags&
        output: Output&
        wm: ebmcodegen::WriterManager<CodeWriter>
        module_: ebmgen::MappingTable
      item_id: ebm::StatementRef
      kind: const ebm::StatementKind&
      enum_member_decl: const ebm::EnumMemberDecl&
        name: IdentifierRef
        enum_decl: WeakStatementRef
        value: ExpressionRef
        string_repr: StringRef
*/
/*DO NOT EDIT ABOVE SECTION MANUALLY*/
#include "../codegen.hpp"
namespace ebm2json {

}  // namespace ebm2json

DEFINE_VISITOR(Statement_ENUM_MEMBER_DECL) {
    using namespace CODEGEN_NAMESPACE;
    /*here to write the hook*/
    auto& js = ctx.config().json_output;
    auto field = js.object();
    field("name", ctx.identifier());
    ExprStringer s{ctx.visitor};
    MAYBE(value, ctx.visit<std::string>(s, ctx.enum_member_decl.value));
    field("value", value);
    if (!is_nil(ctx.enum_member_decl.string_repr)) {
        MAYBE(str, ctx.get(ctx.enum_member_decl.string_repr));
        field("string", str.body.data);
    }
    return {};
}
